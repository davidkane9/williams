{
    "collab_server" : "",
    "contents" : "#' @title Build Dataframe for Given Year\n#' @description The function loads in the graduate information for the\n#'              given year, scrapes appropriate information, & organizes\n#'              it into a dataframe.\n#' @param year year to build data frame for <YYYY>\n#' @return dataframe with # rows = # graduates for the year,\n#'                        # variabels = 9\n#' @format\n#' \\describe{\n#'     \\item{firstname}{firstname of graduate}\n#'     \\item{middlename}{middlename(s) of graduate}\n#'     \\item{lastname}{lastname of graduate}\n#'     \\item{year}{year of graduation}\n#'     \\item{latin.honor}{latin honor recieved by graduate (if any)}\n#'     \\item{honor}{details of distinction of primary thesis honor (if any)\n#'                    We define the \"primary\" thesis honor as the first honor\n#'                    appearing alongside grad's name}\n#'     \\item{major}{major in which graduate completed primary honor}\n#'     \\item{honor.2}{details of distinction of secondary thesis honor (if any)\n#'                   We define the \"secondary\" thesis honor as the second honor\n#'                  appearing alongside grad's name}\n#'     \\item{major.2}{major in which graduate completed secondary honor}\n#' }\nbuild_annual_dataframe <- function(year) {\n  filename <- paste(getwd(), \"/inst/extdata/graduates-\", year, \"-\", (year + 1), \".txt\", sep = \"\")\n  suma_grads <- scrape_suma_cum_laude(filename)\n  magna_grads <- scrape_magna_cum_laude(filename)\n  cum_grads <- scrape_cum_laude(filename)\n  no_latin_honors_grads <- scrape_graduates(filename)\n\n  firstnames <- c(sapply(suma_grads, scrape_first_name),\n                  sapply(magna_grads, scrape_first_name),\n                  sapply(cum_grads, scrape_first_name),\n                  sapply(no_latin_honors_grads, scrape_first_name))\n\n  lastnames <- c(sapply(suma_grads, scrape_last_name),\n                 sapply(magna_grads, scrape_last_name),\n                 sapply(cum_grads, scrape_last_name),\n                 sapply(no_latin_honors_grads, scrape_last_name))\n\n  middlenames <- c(sapply(suma_grads, scrape_middle_name),\n                   sapply(magna_grads, scrape_middle_name),\n                   sapply(cum_grads, scrape_middle_name),\n                   sapply(no_latin_honors_grads, scrape_middle_name))\n\n  years <- rep(year, length(middlenames))\n\n  latin.honors <- c(rep(\"SUMA\", length(suma_grads)),\n                    rep(\"MAGNA\", length(magna_grads)),\n                    rep(\"CUM\", length(cum_grads)),\n                    rep(\"NONE\", length(no_latin_honors_grads)))\n\n  honors <- c(sapply(suma_grads, scrape_primary_honors),\n              sapply(magna_grads, scrape_primary_honors),\n              sapply(cum_grads, scrape_primary_honors),\n              sapply(no_latin_honors_grads, scrape_primary_honors))\n\n  majors <- c(sapply(suma_grads, scrape_primary_honors_major),\n              sapply(magna_grads, scrape_primary_honors_major),\n              sapply(cum_grads, scrape_primary_honors_major),\n              sapply(no_latin_honors_grads, scrape_primary_honors_major))\n\n  honors.2 <- c(sapply(suma_grads, scrape_secondary_honors),\n                sapply(magna_grads, scrape_secondary_honors),\n                sapply(cum_grads, scrape_secondary_honors),\n                sapply(no_latin_honors_grads, scrape_secondary_honors))\n\n  majors.2 <- c(sapply(suma_grads, scrape_secondary_honors_major),\n                sapply(magna_grads, scrape_secondary_honors_major),\n                sapply(cum_grads, scrape_secondary_honors_major),\n                sapply(no_latin_honors_grads, scrape_secondary_honors_major))\n\n  df <- data.frame(firstname = firstnames,\n                   middlename = middlenames,\n                   lastname = lastnames,\n                   year = years,\n                   latin.honor = latin.honors,\n                   honor = honors,\n                   major = majors,\n                   honor.2 = honors.2,\n                   major.2 = majors.2)\n\n  return(df)\n}\n\n\n\n\n",
    "created" : 1488498035560.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1416113990",
    "id" : "98B6015C",
    "lastKnownWriteTime" : 1488498050,
    "last_content_update" : 1488498589408,
    "path" : "~/KT/williamsmetrics/R/build-dataframe.R",
    "project_path" : "R/build-dataframe.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}